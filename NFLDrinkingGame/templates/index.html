<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NFL Drinking Game</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="container">
        <!-- Card Back (Initial State) -->
        <div class="card" id="card-back" onclick="revealWelcome()">
            <div class="card-inner">
                <div class="card-front card-back-design">
                    <div class="card-back-pattern"></div>
                    <h1 style="margin-top: 0;">NFL</h1>
                    <h2 style="margin-top: 10px; margin-bottom: 10px;">DRINKING GAME</h2>
                    <p style="color: #dc2626; font-size: 1.2em; font-weight: bold; margin-top: 30px;">TAP TO START</p>
                </div>
            </div>
        </div>

        <!-- Welcome Screen -->
        <div class="card hidden" id="welcome-screen">
            <div class="card-inner">
                <div class="card-back-overlay">
                    <div class="card-back-pattern"></div>
                    <h1>NFL</h1>
                    <h2>DRINKING GAME</h2>
                    <p>TAP TO CONTINUE</p>
                </div>
                <div class="card-front">
                    <h1>NFL Drinking Game</h1>
                    <p class="description">
                        Welcome to the ultimate NFL Drinking Game! Pick your team, choose categories during the game,
                        and let fate decide your drinking destiny. Whether it's a sack, touchdown, or penalty -
                        every play could mean it's time to drink!
                    </p>
                    <button class="btn-primary" onclick="startGame()">Play</button>
                </div>
            </div>
        </div>

        <!-- Team Selection Screen -->
        <div class="card hidden" id="team-screen">
            <div class="card-inner">
                <div class="card-front">
                    <h2>Enter Team Names</h2>
                    <div class="form-group">
                        <label for="team1">Team 1 Name:</label>
                        <input type="text" id="team1" placeholder="Enter team 1 name">
                    </div>
                    <div class="form-group">
                        <label for="team2">Team 2 Name:</label>
                        <input type="text" id="team2" placeholder="Enter team 2 name">
                    </div>
                    <button class="btn-primary" onclick="submitTeams()">Next</button>
                </div>
            </div>
        </div>

        <!-- Player Count Screen -->
        <div class="card hidden" id="player-count-screen">
            <div class="card-inner">
                <div class="card-front">
                    <h2>How Many Players?</h2>
                    <div class="form-group">
                        <label for="playerCount">Number of Players:</label>
                        <input type="number" id="playerCount" min="1" max="20" placeholder="Enter number of players">
                    </div>
                    <button class="btn-primary" onclick="submitPlayerCount()">Next</button>
                </div>
            </div>
        </div>

        <!-- Player Entry Screen -->
        <div class="card hidden" id="player-entry-screen">
            <div class="card-inner">
                <div class="card-front">
                    <h2>Player <span id="currentPlayerNum">1</span></h2>
                    <div class="form-group">
                        <label for="playerName">Player Name:</label>
                        <input type="text" id="playerName" placeholder="Enter player name">
                    </div>
                    <div class="form-group">
                        <label>Pick Your Winning Team:</label>
                        <div class="team-buttons">
                            <button class="btn-team" id="teamBtn1" onclick="selectTeam(1)"></button>
                            <button class="btn-team" id="teamBtn2" onclick="selectTeam(2)"></button>
                        </div>
                    </div>
                    <button class="btn-primary" onclick="submitPlayer()">Next Player</button>
                </div>
            </div>
        </div>

        <!-- Ready to Play Screen -->
        <div class="card hidden" id="ready-screen">
            <div class="card-inner">
                <div class="card-front">
                    <h2>All Set!</h2>
                    <p class="player-summary" id="playerSummary"></p>
                    <button class="btn-primary btn-large" onclick="showCategories()">Ready to Play</button>
                </div>
            </div>
        </div>

        <!-- Team Selection Screen (Who Made the Play) -->
        <div class="card hidden" id="team-play-screen">
            <div class="card-inner">
                <div class="card-front">
                    <h2>Which Team Made the Play?</h2>
                    <div class="team-play-buttons">
                        <button class="btn-team-play" id="teamPlay1" onclick="selectTeamPlay(1)"></button>
                        <button class="btn-team-play" id="teamPlay2" onclick="selectTeamPlay(2)"></button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Scoreboard Screen -->
        <div class="card hidden" id="scoreboard-screen">
            <div class="card-inner">
                <div class="card-front">
                    <button class="back-arrow" onclick="backFromScoreboard()">‚Üê Back</button>
                    <h2>Current Scores</h2>
                    <div id="scoreboardContent" class="scoreboard-content"></div>
                </div>
            </div>
        </div>

        <!-- Category Selection Screen -->
        <div class="card hidden" id="category-screen">
            <div class="card-inner">
                <div class="card-front">
                    <button class="score-button" onclick="showScoreboard()">üìä Scores</button>
                    <h2 style="margin-top: 10px;">Select a Category</h2>
                    <div class="category-grid">
                        <button class="btn-category" onclick="selectCategory('Defense')">
                            <span class="category-icon">üõ°Ô∏è</span>
                            <span>Defense</span>
                        </button>
                        <button class="btn-category" onclick="selectCategory('Scoring')">
                            <span class="category-icon">üèà</span>
                            <span>Scoring</span>
                        </button>
                        <button class="btn-category" onclick="selectCategory('Referees')">
                            <span class="category-icon">üë®‚Äç‚öñÔ∏è</span>
                            <span>Referees</span>
                        </button>
                        <button class="btn-category" onclick="selectCategory('Game Outcome')">
                            <span class="category-icon">üéØ</span>
                            <span>Game Outcome</span>
                        </button>
                        <button class="btn-category btn-finish" onclick="finishGame()">
                            <span class="category-icon">üèÜ</span>
                            <span>Finish Game</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Event Selection Screen -->
        <div class="card hidden" id="event-screen">
            <div class="card-inner">
                <div class="card-front">
                    <button class="back-arrow" onclick="backToCategories()">‚Üê Back</button>
                    <h2 id="eventCategoryTitle">Select Event</h2>
                    <div class="event-grid" id="eventGrid">
                        <!-- Events will be populated dynamically -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Final Score Screen -->
        <div class="card hidden" id="final-score-screen">
            <div class="card-inner">
                <div class="card-front">
                    <h2>Final Score</h2>
                    <div class="form-group">
                        <label id="team1ScoreLabel">Team 1 Score:</label>
                        <input type="number" id="team1Score" min="0" placeholder="Enter score">
                    </div>
                    <div class="form-group">
                        <label id="team2ScoreLabel">Team 2 Score:</label>
                        <input type="number" id="team2Score" min="0" placeholder="Enter score">
                    </div>
                    <button class="btn-primary" onclick="submitFinalScore()">Submit</button>
                </div>
            </div>
        </div>

        <!-- Final Result Screen -->
        <div class="card hidden" id="final-result-screen" onclick="returnToWelcome()">
            <div class="card-inner">
                <div class="card-front">
                    <h2>Game Over!</h2>
                    <div id="finalResults" class="final-results"></div>
                </div>
            </div>
        </div>

        <!-- Result Screen -->
        <div class="card hidden" id="result-screen" onclick="returnToCategories()">
            <div class="card-inner">
                <div class="card-front result-card">
                    <div class="result-header">
                        <h3 id="resultEvent"></h3>
                    </div>
                    <div class="result-body">
                        <p class="punishment" id="resultOutcome"></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/game.js') }}"></script>
</body>
</html>
